Search.setIndex({"docnames": ["api_reference/index", "api_reference/local_rqa", "api_reference/local_rqa.evaluation", "api_reference/local_rqa.guardrails", "api_reference/local_rqa.pipelines", "api_reference/local_rqa.qa_llms", "api_reference/local_rqa.retrievers", "api_reference/local_rqa.schema", "api_reference/local_rqa.serve", "api_reference/local_rqa.text_loaders", "api_reference/local_rqa.trainers", "api_reference/local_rqa.trainers.qa_llm", "api_reference/local_rqa.trainers.retriever", "getting_started/installation", "getting_started/quickstart", "index", "modules/data", "modules/data/data_description", "modules/data/data_preparation", "modules/evaluation", "modules/evaluation/eval_e2e", "modules/evaluation/eval_retriever", "modules/serving", "modules/serving/acc_frameworks", "modules/serving/human_eval", "modules/serving/interactive", "modules/training", "modules/training/generator", "modules/training/generator/fid", "modules/training/generator/sft", "modules/training/generator/swr", "modules/training/retriever", "modules/training/retriever/ctl", "modules/training/retriever/dca", "modules/training/retriever/rpg", "playground/custom_rqa", "playground/custom_trainer", "usecases/databricks", "usecases/faire"], "filenames": ["api_reference/index.rst", "api_reference/local_rqa.rst", "api_reference/local_rqa.evaluation.rst", "api_reference/local_rqa.guardrails.rst", "api_reference/local_rqa.pipelines.rst", "api_reference/local_rqa.qa_llms.rst", "api_reference/local_rqa.retrievers.rst", "api_reference/local_rqa.schema.rst", "api_reference/local_rqa.serve.rst", "api_reference/local_rqa.text_loaders.rst", "api_reference/local_rqa.trainers.rst", "api_reference/local_rqa.trainers.qa_llm.rst", "api_reference/local_rqa.trainers.retriever.rst", "getting_started/installation.rst", "getting_started/quickstart.rst", "index.rst", "modules/data.rst", "modules/data/data_description.rst", "modules/data/data_preparation.rst", "modules/evaluation.rst", "modules/evaluation/eval_e2e.rst", "modules/evaluation/eval_retriever.rst", "modules/serving.rst", "modules/serving/acc_frameworks.rst", "modules/serving/human_eval.rst", "modules/serving/interactive.rst", "modules/training.rst", "modules/training/generator.rst", "modules/training/generator/fid.rst", "modules/training/generator/sft.rst", "modules/training/generator/swr.rst", "modules/training/retriever.rst", "modules/training/retriever/ctl.rst", "modules/training/retriever/dca.rst", "modules/training/retriever/rpg.rst", "playground/custom_rqa.rst", "playground/custom_trainer.rst", "usecases/databricks.rst", "usecases/faire.rst"], "titles": ["local_rqa", "local_rqa namespace", "local_rqa.evaluation package", "local_rqa.guardrails package", "local_rqa.pipelines package", "local_rqa.qa_llms package", "local_rqa.retrievers package", "local_rqa.schema package", "local_rqa.serve package", "local_rqa.text_loaders package", "local_rqa.trainers namespace", "local_rqa.trainers.qa_llm namespace", "local_rqa.trainers.retriever namespace", "Installation", "Quickstart", "Welcome to LocalRQA\u2019s documentation!", "Data", "RQA Data Format", "Prepare RQA Data", "Evaluation", "End-to-End Evaluation", "Retriever Evaluation", "Serving", "Inference Acceleration Frameworks", "Static Human Evaluation", "Interactive Chat", "Training", "Training a Generator", "Fusion-in-Decoder Training (FiD)", "SFT with Gold Data (SFT)", "SFT with a Frozen Retriever (SwR)", "Training a Retriever", "Contrastive Learning (CTL)", "Distill from Cross-Attention scores (DCA)", "Distill from an LM\u2019s probability distribution (RPG)", "Customize your RQA system", "Customize Model Trainers", "Databricks", "Faire"], "terms": {"namespac": [0, 37, 38], "subpackag": 0, "evalu": [0, 1, 14, 15, 18, 22, 23, 26, 27, 28, 29, 30, 31, 32, 33, 34, 36], "packag": [0, 1, 13, 16], "submodul": 0, "modul": [0, 17, 20, 35, 36], "metric": [0, 1, 14, 15, 19, 20, 21, 29, 36, 37, 38], "score": [0, 1, 19, 20, 21, 26, 31, 34, 37, 38], "util": [0, 32, 36], "content": [0, 1, 16, 18, 35, 37, 38], "guardrail": [0, 1], "base": [0, 13, 14, 18, 19, 20, 21, 23, 25, 26, 27, 28, 29, 30, 31, 32, 34, 35, 36, 37, 38], "pipelin": [0, 1, 14, 15, 16, 20, 35], "prompt": [0, 1, 25, 36, 37, 38], "retrieval_qa": [0, 1, 14, 20], "qa_llm": [0, 1, 10, 27, 28, 29, 30, 35, 36, 37, 38], "fid": [0, 1, 26, 27, 36], "huggingfac": [0, 1, 19, 20, 21, 25, 28, 29, 30, 32, 33, 34, 36], "openai": [0, 1, 18, 19, 20, 21, 35, 37, 38], "sglang": [0, 1, 15, 22, 23, 25], "tgi": [0, 1, 25], "vllm": [0, 1, 15, 22, 23, 25], "retriev": [0, 1, 10, 15, 16, 17, 19, 20, 22, 23, 24, 26, 27, 28, 29, 32, 33, 34, 35, 36], "bm25_retriev": [0, 1], "faiss_retriev": [0, 1, 21], "schema": [0, 1, 14, 17, 24, 35, 37, 38], "dialogu": [0, 1, 14, 17, 35, 36], "document": [0, 1, 16, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "serv": [0, 1, 14, 15, 17, 18, 20, 24, 25, 37, 38], "base_model_work": [0, 1], "control": [0, 1, 25, 34, 37, 38], "gradio_dialogu": [0, 1], "gradio_rqa": [0, 1], "gradio_static_serv": [0, 1, 24, 37, 38], "gradio_web_serv": [0, 1, 25, 37, 38], "model_work": [0, 1, 23, 25, 37, 38], "test_messag": [0, 1, 25, 37, 38], "text_load": [0, 1, 14, 37, 38], "langchain_text_load": [0, 1, 14, 37, 38], "llamaindex_text_load": [0, 1], "trainer": [0, 1, 26, 31], "dist_util": [0, 1], "compon": [0, 1, 15, 16, 17, 18, 36], "run": [0, 1, 13, 14, 16, 18, 19, 24, 25, 35], "run_input_kei": [0, 1, 35], "constant": 0, "accelerationframework": [0, 1], "errorcod": [0, 1], "context_overflow": [0, 1], "controller_no_work": [0, 1], "controller_worker_timeout": [0, 1], "cuda_out_of_memori": [0, 1], "engine_overload": [0, 1], "gradio_request_error": [0, 1], "gradio_stream_unknown_error": [0, 1], "incorrect_auth_kei": [0, 1], "internal_error": [0, 1], "invalid_auth_kei": [0, 1], "invalid_model": [0, 1], "no_permiss": [0, 1], "param_out_of_rang": [0, 1], "quota_exceed": [0, 1], "rate_limit": [0, 1], "validation_type_error": [0, 1], "normalize_answ": [1, 2], "argument": [1, 10, 20, 21, 23, 25, 26, 28, 29, 30, 32, 33, 34, 37, 38], "dataset": [1, 10, 16, 20, 21, 28, 29, 30, 31, 32, 33, 34], "supervised_fid_train": [1, 10, 36], "supervised_train": [1, 10], "embed": [1, 10, 14, 16, 17, 19, 20, 21, 25, 26, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "retriever_fid_train": [1, 10], "retriever_replug_train": [1, 10], "retriever_train": [1, 10], "class": [1, 14, 16, 19, 20, 21, 23, 25, 26, 28, 29, 30, 32, 33, 34, 36], "abc": 1, "build": 1, "block": 1, "which": [1, 14, 16, 17, 19, 20, 21, 25, 33, 34, 35, 37], "call": [1, 35], "method": [1, 15, 16, 17, 18, 19, 20, 21, 22, 28, 29, 35, 36, 37, 38], "iter": [1, 20], "abstract": 1, "arg": [1, 35, 36, 37, 38], "kwarg": [1, 14, 35, 37, 38], "main": [1, 36, 37, 38], "entrypoint": [1, 23, 25], "keyword": 1, "pass": [1, 20, 35, 36, 37, 38], "thi": [1, 14, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "valu": 1, "enum": 1, "an": [1, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 36, 37, 38], "enumer": [1, 35, 36], "intenum": 1, "http": [1, 13, 14, 20, 23, 25, 35, 37, 38], "platform": [1, 37], "com": [1, 13, 14, 20, 35, 37, 38], "doc": [1, 14, 16, 18, 36, 37, 38], "guid": [1, 15, 38], "error": 1, "code": [1, 13, 14, 20, 21, 35, 36, 37, 38], "api": [1, 19, 35, 37], "40303": 1, "50005": 1, "50006": 1, "50002": 1, "42903": 1, "50003": 1, "50004": 1, "40102": 1, "50001": 1, "40101": 1, "40301": 1, "40103": 1, "40302": 1, "42902": 1, "42901": 1, "40001": 1, "": [2, 17, 18, 22, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 35, 36, 37, 38], "str": [2, 14, 16, 35, 36], "you": [13, 14, 15, 16, 17, 18, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "can": [13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 27, 28, 29, 30, 32, 33, 34, 35, 36, 37, 38], "either": [13, 16, 17, 20, 21], "us": [13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "our": [13, 15, 18, 19, 20, 21, 23, 24, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "pre": [13, 15, 22, 24, 26, 37], "built": [13, 15], "imag": [13, 37, 38], "first": [13, 17, 20, 24, 25, 35, 37, 38], "clone": 13, "repositori": [13, 14], "git": 13, "jasonyux": 13, "localrqa": [13, 14, 16, 17, 18, 19, 22, 31, 36, 37, 38], "cd": 13, "Then": [13, 18, 20, 24, 25, 35, 37, 38], "pip": 13, "upgrad": 13, "e": [13, 16, 17, 20, 22, 24, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36], "pull": 13, "bash": 13, "i": [13, 14, 15, 16, 17, 18, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "locat": [13, 16], "workspac": [13, 16], "In": [14, 16, 17, 18, 20, 21, 24, 25, 28, 29, 30, 32, 33, 34, 35, 36, 37, 38], "we": [14, 15, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "ll": 14, "show": [14, 18, 26, 36], "how": [14, 18, 22, 24, 25, 34, 35, 37, 38], "databas": [14, 16, 18, 19, 20, 21, 25, 27, 35, 37, 38], "your": [14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 36, 37, 38], "simplerqa": [14, 19, 20, 36], "quickli": [14, 15], "configur": [14, 16, 19, 20, 21, 37, 38], "As": [14, 16, 36, 37, 38], "refer": [14, 15, 16, 17, 18, 19, 20, 21, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "full": [14, 16, 28, 29, 30, 32, 33, 34], "exampl": [14, 16, 17, 18, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "found": [14, 37], "demo": [14, 35], "py": [14, 18, 19, 20, 21, 23, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "script": [14, 18, 19, 20, 21, 23, 24, 26, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "root": [14, 24, 25], "integr": [14, 18, 22], "framework": [14, 15, 18, 19, 20, 25], "langchain": [14, 16, 18, 37, 38], "llamaindex": [14, 18], "easili": [14, 15, 18, 23, 36], "ingest": [14, 18], "text": [14, 16, 18, 21, 22, 23, 26, 33, 35, 37, 38], "data": [14, 15, 19, 20, 21, 24, 26, 27, 28, 30, 31, 32, 33, 34, 35, 36], "variou": [14, 18, 26], "format": [14, 16, 18, 24, 28, 29, 30, 32, 33, 34, 36], "json": [14, 18, 20, 21, 33, 35, 37, 38], "html": [14, 18, 37], "from": [14, 15, 16, 19, 20, 21, 22, 25, 26, 27, 28, 29, 30, 31, 32, 35, 36, 37, 38], "googl": [14, 16, 18, 33], "drive": [14, 16, 18], "etc": [14, 16, 18], "The": [14, 16, 17, 18, 19, 20, 21, 23, 24, 27, 31, 36, 37, 38], "follow": [14, 16, 17, 18, 20, 21, 22, 24, 35, 36, 37, 38], "requir": [14, 16, 28, 29, 30, 32, 33, 34, 35, 37, 38], "selenium": 14, "instal": [14, 15], "correctli": 14, "If": [14, 16, 17, 19, 20, 21, 23, 35, 36, 37, 38], "don": 14, "t": [14, 15], "have": [14, 16, 17, 20, 21, 36, 37, 38], "skip": [14, 17], "alreadi": [14, 36], "databricks_web": [14, 35], "pkl": [14, 17, 18, 19, 20, 21, 23, 25, 27, 28, 29, 30, 31, 32, 33, 34, 35, 37, 38], "file": [14, 20, 21, 24, 28, 29, 30, 32, 33, 34, 36, 37, 38], "folder": [14, 20, 21, 25, 37, 38], "For": [14, 16, 17, 18, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 34, 36, 37, 38], "could": [14, 37, 38], "load": [14, 17, 18, 19, 20, 21, 25, 26, 36, 37, 38], "websit": [14, 16, 18, 37, 38], "seleniumurlload": 14, "save": [14, 16, 17, 18, 19, 20, 21, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 37, 38], "pars": [14, 18], "them": [14, 15, 16, 17, 18, 19, 22, 28, 35, 36, 37, 38], "collect": [14, 15, 16, 18, 22, 25, 26, 31, 38], "langchain_commun": 14, "document_load": [14, 37, 38], "import": [14, 16, 20, 21, 35, 37, 38], "text_splitt": [14, 37, 38], "charactertextsplitt": 14, "local_rqa": [14, 17, 20, 21, 23, 24, 25, 35, 36, 37, 38], "langchaintextload": [14, 37, 38], "specifi": [14, 17, 20, 21, 27, 31], "chunk": [14, 18], "loader_func": [14, 37, 38], "split_func": 14, "loader_paramet": [14, 37, 38], "url": [14, 16, 17, 18, 23, 25, 35], "databrick": [14, 16, 18, 28, 29, 30, 32, 34], "en": [14, 38], "dbf": [14, 17, 25, 35, 37], "index": [14, 15, 16, 18, 19, 20, 21, 23, 25, 27, 28, 29, 30, 34, 35, 37, 38], "splitter_paramet": [14, 37, 38], "chunk_siz": [14, 18, 37, 38], "400": [14, 18, 37, 38], "chunk_overlap": [14, 37, 38], "50": [14, 18, 24, 33, 37, 38], "separ": 14, "n": [14, 16, 17, 18, 35], "loader_param": [14, 37, 38], "splitter_param": [14, 37, 38], "save_fold": [14, 37, 38], "chang": [14, 16, 18, 23, 25, 35, 36], "own": [14, 15, 16, 18, 20, 21, 26, 35, 36], "save_filenam": [14, 37, 38], "splitter_func": [14, 37, 38], "load_data": [14, 37, 38], "list": [14, 17, 18, 28, 29, 30, 32, 33, 34, 35, 36], "now": [14, 35, 37, 38], "creat": [14, 15, 16, 17, 18, 37, 38], "given": [14, 15, 19, 25, 27, 31, 37, 38], "path": [14, 17, 20, 21, 23, 28, 29, 30, 32, 33, 34], "see": [14, 15, 16, 17, 22, 24, 25, 28, 29, 30, 32, 33, 34, 36], "abov": [14, 16, 17, 22, 23, 24, 25, 27, 31, 36, 37, 38], "directli": [14, 15, 17, 18, 20, 22, 36], "1": [14, 16, 18, 20, 21, 22, 24, 25, 28, 30, 33, 34, 35, 36, 37, 38], "empti": [14, 17, 19, 20, 21, 25, 36], "2": [14, 16, 18, 20, 21, 22, 25, 26, 27, 28, 29, 30, 35, 36, 37, 38], "plugin": 14, "model": [14, 15, 16, 18, 19, 20, 21, 22, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 37, 38], "gener": [14, 16, 20, 21, 22, 23, 24, 25, 26, 28, 29, 30, 33, 35, 36], "3": [14, 18, 20, 21, 25, 28, 30, 35, 36, 37, 38], "qa": [14, 15, 16, 18, 19, 20, 26, 28, 29, 30, 35, 36], "dialoguesess": [14, 17, 35, 36], "from_scratch": [14, 35], "document_path": [14, 18, 19, 20, 21, 23, 25, 35, 37, 38], "index_path": [14, 17, 19, 20, 21, 23, 25, 35, 37, 38], "embedding_model_name_or_path": [14, 19, 20, 21, 23, 25, 35, 37, 38], "intfloat": [14, 19, 20, 21, 23, 25, 26, 27, 28, 29, 30, 31, 32, 35, 36, 37], "e5": [14, 19, 20, 21, 23, 25, 26, 27, 28, 29, 30, 31, 32, 35, 36, 37], "v2": [14, 19, 20, 21, 23, 25, 26, 27, 28, 29, 30, 31, 32, 35, 37], "qa_model_name_or_path": [14, 19, 20, 23, 25, 35, 37, 38], "lmsy": [14, 19, 20, 23, 25, 26, 28, 30, 35], "vicuna": [14, 19, 20, 23, 25, 26, 30, 35], "7b": [14, 19, 20, 23, 25, 26, 27, 29, 30, 35, 37, 38], "v1": [14, 19, 20, 23, 25, 26, 28, 30, 35, 38], "5": [14, 18, 19, 20, 23, 25, 26, 30, 33, 35, 37, 38], "respons": [14, 20, 22, 23, 24, 25, 35], "batch_quest": [14, 35], "what": [14, 17, 20, 21, 24, 25, 35, 36, 37, 38], "batch_dialogue_sess": [14, 35], "print": [14, 27, 31, 36], "batch_answ": [14, 35], "0": [14, 23, 25, 28, 31, 32, 33, 34, 35, 36, 37, 38], "stand": [14, 26], "where": [14, 17, 18, 26, 28, 29, 30, 32, 33, 34, 37, 38], "rqaoutput": [14, 35], "object": [14, 18, 19, 20, 21, 37, 38], "batch_source_docu": [14, 35], "beyond": [14, 16, 37, 38], "simpl": [14, 22, 26, 29, 35, 36], "train": [14, 15, 18, 19, 29, 30, 32, 33, 34, 36], "algorithm": [14, 15, 16, 18, 26, 27, 31, 36, 37, 38], "implement": [14, 19, 26, 28, 29, 30, 31, 32, 33, 34], "latest": [14, 15, 26, 27], "research": [14, 15, 16, 18, 26, 27, 36], "automat": [14, 15, 16, 17, 19, 20, 21, 24, 27, 28, 29, 30, 31], "deploi": [14, 15, 16, 22], "interact": [14, 15, 22, 23, 37, 38], "real": [14, 15, 21, 24, 25], "user": [14, 15, 16, 17, 22, 24, 25, 27, 30, 31, 36, 37, 38], "open": [15, 20, 25, 26, 28, 37], "sourc": [15, 16, 18, 35, 37, 38], "toolkit": 15, "enabl": [15, 16, 37, 38], "develop": [15, 36], "test": [15, 18, 19, 20, 21, 22, 23, 24, 25, 28, 29, 30, 32, 33, 34, 36, 37, 38], "retriv": 15, "augment": [15, 24, 28, 30, 34], "rqa": [15, 19, 20, 22, 23, 27, 28, 29, 30, 32, 33, 34, 36], "system": [15, 16, 17, 19, 20, 21, 22, 23, 27, 33], "techniqu": [15, 22], "recent": [15, 20], "assembl": [15, 36], "best": [15, 37, 38], "off": 15, "shelf": 15, "altern": [15, 16, 24, 37, 38], "veri": [15, 23, 36], "local": [15, 38], "design": [15, 19], "make": [15, 20, 25, 36], "more": [15, 16, 18, 19, 22, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "effici": 15, "effect": [15, 19, 27, 29], "It": [15, 18, 32, 33], "offer": [15, 37], "varieti": 15, "curat": [15, 27, 38], "help": [15, 18, 19, 22, 27, 36, 38], "new": [15, 16, 17, 34], "approach": [15, 36], "compar": [15, 19], "prior": 15, "work": [15, 18, 25, 36, 37, 38], "moreov": 15, "doesn": 15, "just": [15, 16, 37, 38], "stop": 15, "also": [15, 16, 20, 21, 22, 23, 24, 25, 27, 31, 33, 36, 37, 38], "provid": [15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 31, 34, 36, 37, 38], "tool": 15, "improv": [15, 22, 27, 37, 38], "through": [15, 32, 35], "world": [15, 21, 37, 38], "feedback": [15, 22, 25, 37, 38], "support": [15, 16, 18, 22, 23, 28, 30, 36, 37, 38], "popular": 15, "infer": [15, 19, 20, 22, 25, 34], "acceler": [15, 19, 20, 25], "well": 15, "launch": [15, 22, 24, 25, 37, 38], "ui": [15, 22], "allow": [15, 24, 25, 27, 31, 38], "chat": [15, 17, 22, 23, 26, 27, 28, 37, 38], "With": [15, 37, 38], "comprehens": [15, 16, 18], "suit": 15, "aim": [15, 36], "easier": 15, "novel": [15, 36], "To": [15, 16, 17, 18, 19, 20, 21, 22, 23, 25, 26, 27, 35, 36, 37, 38], "pleas": [15, 18, 19, 20, 25, 27, 31, 36, 37, 38], "quickstart": [15, 18, 23, 25], "search": [15, 17], "page": [15, 16, 18, 20, 24, 25], "depend": 16, "case": [16, 17, 19, 25, 35, 36], "prepar": [16, 17, 24, 25, 33, 36], "vari": 16, "standard": [16, 28, 29, 30, 32], "workflow": 16, "deploy": 16, "act": 16, "question": [16, 17, 24, 26, 27, 28, 29, 30, 32, 33, 34, 35, 36, 37, 38], "passag": [16, 18, 26, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "answer": [16, 17, 22, 26, 27, 28, 29, 30, 33, 34, 35, 36, 37, 38], "triplet": [16, 18, 37, 38], "ar": [16, 17, 18, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 32, 33, 34, 35, 37, 38], "color": 16, "blue": 16, "simplifi": 16, "mai": [16, 19, 23, 37, 38], "look": [16, 17, 36, 37, 38], "like": [16, 17, 28, 29, 30, 32, 34, 36, 37, 38], "access": [16, 37, 38], "default": [16, 20, 21, 23, 24, 25, 34, 35, 36, 37, 38], "people10m": 16, "tabl": 16, "nenabl": 16, "metadata": [16, 17, 18, 33, 36, 37, 38], "titl": [16, 17, 18, 33, 38], "updat": [16, 33, 34, 35, 36], "permiss": 16, "februari": 16, "28": 16, "2023": [16, 20, 34], "set": [16, 19, 20, 22, 24, 25, 26, 27, 31, 35, 37, 38], "specif": [16, 26, 29, 30], "step": [16, 17, 18, 20, 21, 23, 25, 34, 37, 38], "adls2": 16, "uc": 16, "extern": 16, "note": [16, 20, 21, 24, 25, 34, 37, 38], "azur": 16, "lake": [16, 37], "storag": 16, "gen2": 16, "uniti": 16, "catalog": 16, "wish": [16, 20], "all": [16, 17, 18, 24, 25, 26, 27, 35, 36, 37, 38], "mention": [16, 22, 36], "section": [16, 17, 26, 27, 31], "high": [16, 18, 23, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 35], "level": [16, 18, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 35], "explan": 16, "kind": 16, "end": [16, 19, 21, 24, 25, 26, 27, 36, 37, 38], "typic": 16, "would": [16, 21, 36, 37, 38], "pair": [16, 18, 27, 28, 29, 30, 31, 32, 33, 34, 37, 38], "howev": [16, 23, 26, 37, 38], "exact": 16, "want": [16, 17, 19, 20, 37, 38], "detail": [16, 17, 19, 22, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "two": [16, 18, 22, 23, 34, 37, 38], "wai": [16, 22, 38], "human": [16, 18, 20, 22, 25, 37, 38], "static": [16, 20, 22, 37, 38], "ground": [16, 27, 28, 29, 30, 36], "truth": [16, 27, 28, 29, 30, 36], "should": [16, 17, 20, 23, 25, 34, 37, 38], "good": 16, "function": [16, 17, 35, 36, 37, 38], "onli": [16, 17, 24, 36, 37, 38], "subset": 16, "option": [16, 17, 18, 24, 25, 26, 27, 31, 33, 36, 37, 38], "those": 16, "final": [16, 21, 25, 35, 36, 37, 38], "chatbot": [16, 20], "A": [16, 18, 21, 24], "simpli": [16, 17, 20, 21, 24, 25, 27, 29, 30, 32, 33, 34, 35, 36, 37, 38], "piec": [16, 29, 30, 32, 33, 34, 37, 38], "plu": 16, "some": [16, 36], "g": [16, 17, 20, 22, 24, 28, 29, 30, 32, 33, 34, 36], "addit": [16, 36, 37, 38], "context": [16, 23, 24, 36], "when": [16, 23, 25, 34, 35, 36, 37, 38], "vector": 16, "becaus": [16, 21, 25, 27, 35, 36], "larg": [16, 18, 19, 20, 23], "take": [16, 20, 27, 35, 36], "time": [16, 17, 23], "so": [16, 19, 20, 36], "prevent": 16, "re": [16, 17, 36], "emb": [16, 17], "everi": [16, 17, 34], "restart": [16, 17], "server": [16, 24, 25, 37, 38], "At": [16, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 35], "begin": 16, "practic": [16, 17, 26, 28, 30, 38], "come": [16, 26, 36], "ani": [16, 19, 20, 21, 23, 36, 37, 38], "store": [16, 18], "inform": [16, 21, 26, 33, 37], "itself": 16, "consid": [16, 33], "uniform": 16, "repres": [16, 17, 18, 38], "page_cont": [16, 17, 18, 33, 37, 38], "fmt_content": [16, 17, 18, 24, 33, 36, 37, 38], "field": [16, 17, 26, 36], "dict": [16, 24, 36], "default_factori": 16, "raw": [16, 37, 38], "dictionari": 16, "about": [16, 34, 37, 38], "author": [16, 35], "version": [16, 17, 24], "actual": [16, 25, 37, 38], "therefor": [16, 17, 36], "nurl": 16, "ncontent": [16, 18], "complet": [16, 24, 28, 29, 30, 32, 34], "ad": 16, "up": [16, 22, 23, 36], "wonder": 16, "scratch": 16, "start": [16, 18, 25, 36, 37, 38], "llama": [16, 18, 37, 38], "sampl": [16, 18, 33, 36, 37, 38], "llm": [16, 18, 20, 37, 38], "convert": [16, 37, 38], "exist": [16, 25], "mani": [16, 18, 19, 23], "natur": [16, 18, 20, 25], "kwiatkowski": [16, 18], "et": [16, 18, 20, 21, 26, 33], "al": [16, 18, 20, 21, 26, 33], "2019": [16, 18], "triviaqa": [16, 18], "joshi": [16, 18], "2017": [16, 18], "m": [16, 18, 23, 25, 35], "marco": [16, 18], "bajaj": [16, 18], "2018": [16, 18], "contain": [16, 17, 18, 20, 21, 24], "one": [16, 17, 25, 28, 29, 30, 32, 36, 37, 38], "line": [16, 17, 27, 31], "command": [16, 18, 27, 31, 37, 38], "tom": [16, 18], "jennimaria": [16, 18], "palomaki": [16, 18], "olivia": [16, 18], "redfield": [16, 18], "michael": [16, 18], "collin": [16, 18], "ankur": [16, 18], "parikh": [16, 18], "chri": [16, 18], "alberti": [16, 18], "daniel": [16, 18], "epstein": [16, 18], "illia": [16, 18], "polosukhin": [16, 18], "jacob": [16, 18], "devlin": [16, 18], "kenton": [16, 18], "lee": [16, 18], "kristina": [16, 18], "toutanova": [16, 18], "llion": [16, 18], "jone": [16, 18], "matthew": [16, 18], "kelcei": [16, 18], "ming": [16, 18], "wei": [16, 18, 20, 26], "andrew": [16, 18], "dai": [16, 18], "jakob": [16, 18], "uszkoreit": [16, 18], "quoc": [16, 18], "le": [16, 18], "slav": [16, 18], "petrov": [16, 18], "benchmark": [16, 18, 21], "transact": [16, 18], "associ": [16, 18, 20], "comput": [16, 18, 20, 22, 29, 34, 36], "linguist": [16, 18, 20], "7": [16, 18], "452": [16, 18], "466": [16, 18], "mandar": [16, 18], "eunsol": [16, 18], "choi": [16, 18], "weld": [16, 18], "luke": [16, 18, 34], "zettlemoy": [16, 18, 34], "scale": [16, 18], "distantli": [16, 18], "supervis": [16, 18, 26, 27, 29, 34], "challeng": [16, 18], "read": [16, 18, 19, 24, 25, 37, 38], "proceed": [16, 18, 20], "55th": [16, 18], "annual": [16, 18], "meet": [16, 18], "volum": [16, 18], "long": [16, 18], "paper": [16, 18, 36], "1601": [16, 18], "1611": [16, 18], "vancouv": [16, 18], "canada": [16, 18], "payal": [16, 18], "campo": [16, 18], "nick": [16, 18], "craswel": [16, 18], "li": [16, 18, 20], "deng": [16, 18], "jianfeng": [16, 18], "gao": [16, 18], "xiaodong": [16, 18], "liu": [16, 18, 20], "rangan": [16, 18, 26], "majumd": [16, 18, 26], "mcnamara": [16, 18], "bhaskar": [16, 18], "mitra": [16, 18], "tri": [16, 18], "nguyen": [16, 18], "mir": [16, 18], "rosenberg": [16, 18], "xia": [16, 18], "song": [16, 18], "alina": [16, 18], "stoica": [16, 18, 20], "saurabh": [16, 18], "tiwari": [16, 18], "tong": [16, 18], "wang": [16, 18, 20, 26], "machin": [16, 18, 19, 20], "throughout": 17, "each": [17, 22, 23, 27, 28, 30, 31, 32, 33, 34, 35, 36, 37, 38], "appear": 17, "train_w_qa": [17, 18, 27, 28, 29, 30, 34, 37, 38], "jsonl": [17, 18, 19, 20, 21, 23, 24, 27, 28, 29, 30, 31, 32, 34, 37, 38], "eval_w_qa": [17, 18, 27, 28, 29, 30, 34, 37, 38], "test_w_qa": [17, 18, 19, 20, 23, 27, 28, 29, 30, 37, 38], "extens": 17, "These": [17, 18, 20, 27, 31, 37, 38], "sinc": [17, 23, 26, 28, 29, 30, 32, 33, 34, 35, 36], "three": [17, 20, 21, 35, 36, 37, 38], "same": [17, 25, 26, 32, 37, 38], "chat_histori": [17, 28, 29, 30, 36, 37, 38], "xxx": [17, 20, 24, 37, 38], "gold_doc": [17, 24, 33, 36, 37, 38], "gold_answ": [17, 36, 37, 38], "hard_neg_doc": [17, 37, 38], "singl": [17, 19, 20, 26, 27, 29, 30, 31, 37, 38], "histori": [17, 26, 27, 28, 29, 30, 32, 33, 34, 37, 38], "befor": [17, 35, 36], "seem": 17, "relat": [17, 20], "do": [17, 24, 25, 35, 36, 37, 38], "correct": [17, 22, 38], "df": 17, "depth": 17, "normal": [17, 36], "f": [17, 36, 37, 38], "previou": [17, 18, 35, 37, 38], "turn": [17, 25, 28, 29, 30], "preced": 17, "obtain": [17, 18, 24, 25, 28, 29, 30, 32, 33, 34, 37, 38], "to_list": 17, "avail": [17, 20, 35], "most": [17, 19, 20, 21, 25, 26, 28, 29, 30, 31, 32, 33, 34], "gold": [17, 26, 27, 32, 34, 36, 37, 38], "to_dict": 17, "hard": [17, 26, 31, 32, 37, 38], "neg": [17, 26, 31, 32, 37, 38], "contrast": [17, 26, 31, 37, 38], "learn": [17, 26, 31, 33, 36, 37, 38], "ctl": [17, 26, 31, 37, 38], "henc": 17, "other": [17, 18, 20, 21, 24, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], "leav": 17, "manual": [17, 24, 37, 38], "reformat": 17, "its": [17, 19, 35, 36, 37, 38], "thei": [17, 25, 35, 36], "core": 17, "perform": [17, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 31, 36, 37, 38], "essens": 17, "neural": [17, 21], "encod": [17, 26, 27, 28, 31, 33, 36], "insid": [17, 37, 38], "And": 17, "directori": [17, 18, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 37, 38], "customized000d4bd3": 17, "ece0": 17, "5cf7": 17, "ad01": 17, "9e14e1d1e073": 17, "customized0010a3a4": 17, "429d": 17, "5115": 17, "90f3": 17, "d01d91a75ea1": 17, "customized00148cdd": 17, "6bc8": 17, "5c81": 17, "aabf": 17, "9db00e00e769": 17, "customizedffff1e54": 17, "52af": 17, "5d1e": 17, "a1b": 17, "235cc926f21e": 17, "essenti": [17, 36, 37, 38], "process": [17, 20, 21, 23, 37, 38], "whenev": 17, "place": 17, "ask": 17, "full_dataset_index_path": [17, 27, 28, 29, 30, 37, 38], "purpos": 17, "avoid": [17, 26], "entir": 17, "mean": [17, 21, 24, 26, 27, 31, 32, 34, 35, 36, 37, 38], "realli": 17, "delet": 17, "effortlessli": 18, "need": [18, 20, 21, 23, 24, 25, 33, 35, 36, 37, 38], "type": [18, 35], "present": 18, "overview": 18, "concret": 18, "tutori": [18, 37, 38], "fair": [18, 28, 29, 30, 32, 34, 37], "here": [18, 33, 35], "anoth": [18, 37, 38], "kei": [18, 36], "must": 18, "while": [18, 25], "passage_sourc": 18, "passage_titl": 18, "passage_cont": 18, "python": [18, 19, 20, 21, 23, 24, 25, 27, 28, 29, 30, 31, 32, 33, 34, 37, 38], "process_doc": [18, 37, 38], "model_name_or_path": [18, 27, 28, 29, 30, 31, 32, 33, 34, 37, 38], "facebook": [18, 33, 34, 37, 38], "contriev": [18, 33, 34, 37, 38], "msmarco": [18, 33, 34, 37, 38], "chunk_overlap_s": [18, 37, 38], "save_dir": [18, 37, 38], "save_nam": [18, 37, 38], "split": [18, 37, 38], "recursivecharactertextsplitt": [18, 37, 38], "from_huggingface_token": [18, 37, 38], "size": [18, 28, 30, 37, 38], "measur": [18, 19, 20, 21, 37, 38], "token": [18, 36, 37, 38], "ntitl": 18, "seq_num": 18, "By": [18, 20, 21, 23, 37, 38], "gpt": [18, 20, 37, 38], "turbo": [18, 37, 38], "doc_to_q": [18, 37, 38], "mode": [18, 37, 38], "prompt_model": [18, 37, 38], "num_hard_negs_per_doc": [18, 37, 38], "num_train_data": [18, 37, 38], "600": [18, 38], "num_eval_test_data": [18, 37, 38], "150": [18, 37, 38], "eval_w_q": [18, 31, 32, 37, 38], "test_w_q": [18, 21, 37, 38], "train_w_q": [18, 31, 32, 37, 38], "leverag": [18, 28, 33], "4": [18, 20, 21, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "1106": [18, 37, 38], "preview": [18, 37, 38], "again": 18, "correspond": [18, 32], "doc_q_to_a": [18, 38], "dataset_w_q": [18, 37, 38], "end_data_idx": [18, 37, 38], "small": [18, 37, 38], "number": [18, 33, 34, 36, 37, 38], "implicitli": 18, "load_hf_data": 18, "trivial_qa": 18, "document_save_path": 18, "train_data_save_path": 18, "training_data": 18, "trivialqa": 18, "under": [18, 19, 20, 21, 24, 25, 28, 29, 30, 32, 33, 34, 35, 36, 37, 38], "valid": [18, 27, 31, 37, 38], "everyth": 18, "current": [18, 19, 20, 22, 26, 34, 37, 38], "h": [18, 20, 26, 28, 29, 30, 32, 33, 34], "result": [19, 20, 21, 24, 27, 28, 29, 30, 31, 32, 33, 34, 35, 37, 38], "differ": [19, 22, 33, 34, 37, 38], "find": [19, 37, 38], "cost": [19, 37, 38], "suitabl": 19, "applic": [19, 21, 35], "standalon": [19, 37, 38], "includ": [19, 23, 35, 36, 37, 38], "test_retriev": [19, 21, 37, 38], "eval_data_path": [19, 20, 21, 23, 36, 37, 38], "output_dir": [19, 20, 21, 23, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "output": [19, 20, 21, 23, 27, 31, 35, 36], "dir": [19, 20, 21, 23, 37, 38], "test_e2": [19, 20, 23, 37, 38], "both": [19, 26, 35, 37, 38], "indic": [19, 26, 28, 29, 30, 33], "multi": [19, 20, 25, 26], "gpu": [19, 20, 25, 26, 37, 38], "endpoint": [19, 20], "recal": [20, 21, 37, 38], "k": [20, 21, 27, 28, 30, 31, 34, 36], "bleu": 20, "roug": 20, "eval": [20, 36, 37, 38], "runtim": [20, 21, 37, 38], "often": [20, 21, 26, 33, 34], "task": [20, 26, 29, 33], "translat": 20, "summar": 20, "qualiti": [20, 22, 24, 25], "zheng": 20, "compat": [20, 21, 28, 29, 30, 32, 33, 34], "gen_gpt4ev": [20, 37, 38], "fals": [20, 33, 35, 36], "after": [20, 21], "all_arg": [20, 21], "predict": [20, 21, 24, 36, 37, 38], "log": [20, 21, 24, 25, 37, 38], "assum": [20, 26], "sure": [20, 25], "export": [20, 23, 25], "openai_api_kei": [20, 35], "openai_organ": 20, "true": [20, 27, 29, 30, 33, 37, 38], "behavior": [20, 21, 26, 37, 38], "modifi": [20, 21, 35, 37, 38], "procedur": [20, 21, 23], "consist": [20, 21], "e2eevalu": [20, 36], "evaluatorconfig": [20, 21, 36, 37, 38], "def": [20, 21, 35, 36, 37, 38], "model_arg": [20, 21, 36], "modelargu": [20, 21, 36], "test_arg": [20, 21], "testargu": [20, 21], "init": [20, 21, 36], "return": [20, 21, 35, 36, 37, 38], "rqa_model": 20, "init_rqa_model": 20, "defin": [20, 21, 35, 36], "dure": [20, 21, 23, 27, 28, 29, 30, 31, 34, 36, 37, 38], "eval_config": [20, 21, 36], "batch_siz": [20, 21], "retr_lat": 20, "gen_f1": 20, "gen_precis": 20, "gen_roug": 20, "gen_lat": 20, "e2e_lat": 20, "config": [20, 21, 36], "assistant_prefix": [20, 27, 29, 30, 36, 37, 38], "user_prefix": [20, 27, 29, 30, 36, 37, 38], "sep_us": [20, 27, 29, 30, 37, 38], "sep_si": [20, 27, 29, 30, 37, 38], "loaded_eval_data": [20, 21, 36], "load_eval_data": [20, 21], "test_data": [20, 21, 36], "prefix": [20, 21, 29, 30, 36], "omit": [20, 21, 27, 28, 29, 30, 36, 37, 38], "hood": [20, 28, 29, 30, 32, 33, 34, 35, 37, 38], "subclass": 20, "rqapipelin": [20, 35], "even": [20, 21], "yang": [20, 26], "dan": 20, "yichong": 20, "xu": 20, "shuohang": 20, "ruochen": 20, "chenguang": 20, "zhu": 20, "nlg": 20, "better": [20, 21, 26, 27], "align": 20, "confer": [20, 21], "empir": 20, "languag": [20, 25, 34], "2511": 20, "2522": 20, "singapor": 20, "lianmin": 20, "lin": 20, "chiang": 20, "ying": 20, "sheng": 20, "siyuan": 20, "zhuang": 20, "zhanghao": 20, "wu": [20, 26], "yonghao": 20, "zi": 20, "zhuohan": 20, "dacheng": 20, "eric": 20, "p": [20, 26, 28, 31, 33], "xing": 20, "hao": 20, "zhang": 20, "joseph": 20, "gonzalez": 20, "ion": 20, "2023a": 20, "judg": 20, "mt": 20, "bench": 20, "arena": 20, "ndcg": [21, 37, 38], "beir": 21, "thakuret": 21, "2021": [21, 26], "mteb": 21, "muennighoff": 21, "2022": [21, 26], "faissretriev": 21, "though": 21, "sentencetransform": 21, "pool": 21, "otherwis": [21, 25], "retrieverevalu": 21, "retriever_model": 21, "init_retriever_model": 21, "nandan": 21, "thakur": 21, "nil": 21, "reimer": 21, "andrea": 21, "r\u00fcckl\u00e9": 21, "abhishek": 21, "srivastava": 21, "iryna": 21, "gurevych": 21, "heterogen": 21, "zero": 21, "shot": 21, "thirti": 21, "fifth": 21, "track": 21, "round": 21, "nikla": 21, "nouaman": 21, "tazi": 21, "lo\u00efc": 21, "magn": 21, "massiv": 21, "arxiv": 21, "preprint": 21, "2210": 21, "07316": 21, "backend": 22, "free": [22, 37, 38], "showcas": 22, "public": 22, "further": [22, 25, 37, 38], "rlhf": 22, "rate": 22, "sever": [22, 27], "speed": [22, 23, 25], "faiss": [22, 23], "latenc": [23, 37, 38], "accept": 23, "address": 23, "multipl": 23, "reduc": 23, "drop": 23, "host": [23, 25, 37, 38], "choic": [23, 25], "instanc": [23, 27, 31, 37, 38], "api_serv": [23, 25], "localhost": [23, 25, 37, 38], "8000": [23, 25], "name": [23, 25], "similar": [23, 33], "launch_serv": 23, "port": [23, 24, 25, 37, 38], "30000": 23, "3000": 23, "cuda_visible_devic": [23, 25], "model_id": [23, 25, 37, 38], "simple_rqa": [23, 25, 37, 38], "analysi": 24, "perpar": 24, "produc": [24, 27], "web": [24, 25, 37, 38], "project": [24, 25, 33], "input": [24, 25, 27, 28, 29, 30, 35, 36], "gen_answ": 24, "retrieved_doc": [24, 36], "respect": [24, 27, 31, 37, 38], "generated_answ": 24, "doe": [24, 35, 36, 37, 38], "open_rqa": 24, "file_path": [24, 37, 38], "e2": [24, 27, 28, 29, 30, 37, 38], "include_idx": [24, 37, 38], "displai": [24, 37, 38], "7861": [24, 37, 38], "onc": [24, 29, 30, 32, 33, 34], "click": 24, "submit": 24, "annot": [24, 25], "yy": 24, "mm": 24, "dd": 24, "hh": 24, "handl": 25, "asynchron": [25, 37, 38], "request": [25, 35, 37, 38], "manag": [25, 37, 38], "worker": [25, 37, 38], "go": [25, 37, 38], "listen": 25, "21001": 25, "recogn": 25, "automodel": 25, "regist": 25, "quick": [25, 37, 38], "point": [25, 32], "send": 25, "tell": 25, "me": 25, "joke": 25, "than": [25, 38], "20": [25, 34], "word": 25, "front": 25, "28888": [25, 37, 38], "invalid_array_index": [25, 37], "id": [25, 33], "shown": 25, "webpag": 25, "replac": [25, 35, 37, 38], "rest": 25, "mistralai": [26, 27, 29, 30, 37], "mistral": [26, 27, 29, 30, 37], "instruct": [26, 27, 29, 30, 35, 37], "v0": [26, 27, 29, 30, 37], "dens": 26, "finetun": [26, 27, 28, 29, 30, 31, 32, 33, 34, 37, 38], "lead": 26, "much": 26, "karpukhin": 26, "2020": [26, 28, 36], "izacard": [26, 28, 33, 36], "non": [26, 38], "exhaust": 26, "grow": 26, "interfac": 26, "target": 26, "q": [26, 31, 33, 37, 38], "dca": [26, 31], "distil": [26, 31], "cross": [26, 28, 29, 30, 31, 32], "attent": [26, 31], "rpg": [26, 31], "lm": [26, 31, 38], "probabl": [26, 31], "distribut": [26, 31], "sft": [26, 27, 37, 38], "decod": [26, 27, 29, 30, 31, 33, 36], "swr": [26, 27, 28], "frozen": [26, 27, 28], "fusion": [26, 27, 36], "element": 26, "transform": 26, "librari": 26, "familiar": 26, "loop": 26, "unexpect": 26, "suggest": [26, 38], "evaluation_strategi": 26, "vladimir": 26, "barla": 26, "o": [26, 35], "guz": 26, "sewon": [26, 34], "min": [26, 34], "patrick": 26, "lewi": [26, 34], "ledel": 26, "sergei": 26, "edunov": 26, "danqi": 26, "chen": 26, "wen": [26, 34], "tau": [26, 34], "yih": [26, 34], "domain": [26, 28, 37], "gautier": [26, 28, 33], "mathild": 26, "caron": 26, "luca": 26, "hosseini": 26, "sebastian": 26, "riedel": 26, "piotr": 26, "bojanowski": 26, "armand": 26, "joulin": 26, "edouard": [26, 28, 33], "grave": [26, 28, 33, 36], "unsupervis": [26, 33], "liang": 26, "nan": 26, "xiaolong": 26, "huang": 26, "binx": 26, "jiao": 26, "linjun": 26, "daxin": 26, "jiang": 26, "furu": 26, "weakli": 26, "queri": [27, 31], "condit": 27, "besid": 27, "capabl": 27, "incorpor": 27, "therebi": 27, "factual": 27, "readi": [27, 31], "hyperparamet": [27, 28, 29, 30, 31, 32, 34, 37, 38], "train_w_gt": [27, 29, 37, 38], "use_flash_attent": [27, 29, 30, 37, 38], "per_device_train_batch_s": [27, 28, 29, 30, 31, 32, 33, 34, 37, 38], "per_device_eval_batch_s": [27, 28, 29, 30, 31, 32, 33, 34, 37, 38], "inst": [27, 29, 37], "eval_embedding_model": [27, 28, 29, 30, 37, 38], "model_checkpoint": [27, 28, 29, 30, 31, 32, 33, 34], "my_sft_qa_model": [27, 29], "train_fil": [27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "eval_fil": [27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38], "test_fil": [27, 28, 29, 30, 36, 37, 38], "full_dataset_file_path": [27, 28, 29, 30, 31, 32, 33, 34, 37, 38], "consol": [27, 31], "combin": [28, 30, 37], "passage_aug": [28, 30], "retrieved_passag": [28, 30], "concaten": [28, 29, 30], "form": 28, "input_i": 28, "parallel": [28, 36], "hidden": 28, "state": 28, "feed": 28, "entropi": [28, 29, 30, 32], "loss": [28, 29, 30, 32, 36], "visual": [28, 36], "architectur": [28, 36], "fastchat": 28, "t5": [28, 33], "3b": [28, 34], "AND": [28, 30], "train_w_gt_fid": [28, 36], "embedding_model": [28, 30, 36], "embedding_max_num_to_retriev": [28, 30, 36], "my_swr_qa_model": [28, 30], "trainingargu": [28, 29, 30, 32, 33, 34], "dictat": [28, 30], "bound": [28, 30], "len": [28, 30, 36, 37, 38], "yet": 29, "adapt": 29, "toward": 29, "mimic": [29, 30], "gather": [29, 30, 32, 33, 34], "convers": [29, 30], "train_w_fixed_retriev": 30, "assist": [30, 36, 38], "select": [31, 37, 38], "relev": [31, 35], "down": [31, 36], "stream": 31, "train_ctl_retriev": [31, 32, 37, 38], "pooling_typ": [31, 32, 34, 37, 38], "learning_r": [31, 32, 33, 37, 38], "1e": [31, 32, 33, 37, 38], "256": [31, 32, 36, 37, 38], "128": [31, 32, 37, 38], "hard_neg_ratio": [31, 32, 37, 38], "05": [31, 32, 37, 38], "metric_for_best_model": [31, 32, 33, 34, 37, 38], "eval_retr": [31, 32, 33, 34, 37, 38], "document_recal": [31, 32, 33, 34, 37, 38], "recall4": [31, 32, 33, 34, 37, 38], "my_ctl_ret_model": [31, 32], "batch": [32, 37, 38], "emploi": 32, "posit": 32, "within": 32, "flatten": 32, "distinguish": 32, "between": [32, 33, 34], "reader": 33, "synthet": 33, "label": [33, 36], "2020a": 33, "paramet": [33, 34], "minim": [33, 34], "kl": [33, 34], "diverg": [33, 34], "flan": 33, "xl": 33, "On": [33, 36], "top": [33, 36], "ctx": 33, "initi": [33, 36], "dpr": 33, "bm25": 33, "float": 33, "train_fid_retriev": 33, "train_w_q_fid": 33, "eval_w_q_fid": 33, "reader_model_path": 33, "reader_temperatur": 33, "with_scor": 33, "n_context": 33, "reader_batch_s": 33, "10": [33, 34, 37, 38], "my_dca_ret_model": 33, "equal": 33, "length": [33, 36, 37, 38], "knowledg": 33, "districut": 34, "shi": 34, "etal": 34, "likelihood": 34, "refresh_step": 34, "stabilityai": 34, "stablelm": 34, "zephyr": 34, "train_replug_retriev": 34, "lm_model_path": 34, "text_maxlength": 34, "512": [34, 36], "lm_temperatur": 34, "retrieve_temperatur": 34, "num_doc": 34, "my_rpg_ret_model": 34, "temperatur": [34, 37, 38], "softmax": 34, "calcula": 34, "weijia": 34, "michihiro": 34, "yasunaga": 34, "minjoon": 34, "seo": 34, "rich": 34, "jame": 34, "mike": 34, "replug": 34, "black": 34, "box": [34, 38], "ingredi": 35, "togeth": [35, 36, 37, 38], "happen": 35, "answer_guardrail": 35, "add": [35, 36], "noop": 35, "cascad": 35, "illustr": 35, "let": [35, 36], "walk": 35, "moder": 35, "principl": 35, "stick": 35, "simplrqa": 35, "reli": 35, "parent": 35, "simplic": 35, "inherit": 35, "baseanswerguardrail": 35, "abstractmethod": 35, "self": [35, 36], "forward": [35, 36], "might": [35, 36], "check": 35, "faith": 35, "sai": 35, "additional_data": 35, "choos": [35, 38], "accord": [35, 38], "remov": 35, "being": [35, 36], "next": [35, 36, 37, 38], "sorri": 35, "cannot": 35, "violat": 35, "environ": 35, "_moderate_singl": 35, "bool": 35, "header": 35, "bearer": 35, "json_data": 35, "try": 35, "ret": [35, 38], "post": 35, "timeout": 35, "flag": 35, "except": 35, "requestexcept": 35, "_": 35, "keyerror": 35, "checked_answ": 35, "checked_source_docu": 35, "idx": [35, 36], "append": [35, 36], "els": 35, "understand": 35, "ongo": 36, "usabl": 36, "possibl": 36, "notic": [36, 37], "style": 36, "data_arg": 36, "logger_arg": 36, "training_arg": 36, "random": [36, 37, 38], "seed": [36, 37, 38], "autotoken": [36, 37, 38], "from_pretrain": [36, 37, 38], "automodelforcausallm": 36, "train_dset": 36, "eval_dset": 36, "test_dset": 36, "init_dataset": 36, "supervisedtrain": 36, "train_arg": 36, "eval_retriev": 36, "train_dataset": [36, 37, 38], "eval_dataset": [36, 37, 38], "necessari": 36, "repo": 36, "potenti": 36, "_trainer": 36, "origin": [36, 37], "dataargu": 36, "tmp_output_dir": 36, "supervisedfidrqawretrieverdataset": 36, "loggerargu": 36, "e2eqatrainingargu": 36, "logger": [36, 37, 38], "info": [36, 37, 38], "fidt5": 36, "from_t5": 36, "todo": 36, "supervisedfidtrain": 36, "few": [36, 38], "dataclass": 36, "max_encoder_seq_length": 36, "int": 36, "maximum": [36, 37, 38], "total": 36, "sequenc": 36, "max_decoder_seq_length": 36, "max": 36, "exclud": 36, "none": 36, "part": [36, 37, 38], "torch": 36, "__init__": 36, "flattened_input": 36, "flattened_output": 36, "prepare_data": 36, "qa_w_doc_data": 36, "encode_data": 36, "_necessary_field": 36, "assert": 36, "miss": 36, "all_doc": 36, "extend": 36, "from_dict": 36, "baseretriev": 36, "retriever_init_fn": 36, "all_retrieved_doc": 36, "pre_retrieve_all_doc": 36, "all_quest": 36, "formatted_input_data": 36, "formatted_output_data": 36, "dialogue_sess": 36, "from_list": 36, "add_user_messag": 36, "NOT": 36, "fmt_dialogu": 36, "to_str": 36, "to_include_doc": 36, "_combine_retrieved_doc": 36, "fid_input": 36, "rqa_prompt": 36, "formatted_docu": 36, "formatted_chat": 36, "__len__": 36, "__getitem__": 36, "logic": 36, "But": 36, "overrid": 36, "compute_loss": 36, "evaluation_loop": 36, "return_output": 36, "input_id": 36, "devic": 36, "attention_mask": 36, "return_dict": 36, "dataload": 36, "descript": [36, 37], "prediction_loss_onli": 36, "ignore_kei": 36, "metric_key_prefix": 36, "evalloopoutput": 36, "wrapped_model_for_ev": 36, "wrap_model_for_ev": 36, "qa_model": 36, "_load_eval_data": 36, "evaluator_config": 36, "wrapped_model": 36, "from_huggingface_fid": 36, "qa_token": 36, "quit": 36, "modif": 36, "done": [36, 37, 38], "huggingfacefidqamodel": 36, "wrapper": 36, "academia": 37, "commun": [37, 38], "wa": 37, "2013": 37, "creator": 37, "apach": 37, "spark": 37, "delta": 37, "mlflow": 37, "lakehous": 37, "cloud": 37, "warehous": 37, "unifi": 37, "ai": 37, "out": [37, 38], "visit": [37, 38], "credit": [37, 38], "www": [37, 38], "technic": 37, "thank": 37, "team": [37, 38], "kb": 37, "product": [37, 38], "ndescript": 37, "deleg": 37, "authent": 37, "third": 37, "parti": 37, "servic": 37, "idea": 37, "portal": 37, "auth": 37, "timestamp": 37, "full_text": 37, "guidanc": 37, "analyst": 37, "scientist": 37, "engin": 37, "subsequ": [37, 38], "custom": [37, 38], "llamaindextextload": [37, 38], "jsonload": [37, 38], "jq_schema": [37, 38], "content_kei": [37, 38], "json_lin": [37, 38], "metadata_func": [37, 38], "hugginfac": [37, 38], "11": 37, "136": 37, "give": [37, 38], "u": [37, 38], "doc_to_q_databrick": [37, 38], "1200": 37, "becom": [37, 38], "peek": 37, "databricks_doc2q_prompt": [37, 38], "databricks_filter_fn": [37, 38], "decid": [37, 38], "keep": [37, 38], "argpars": [37, 38], "copi": [37, 38], "over": [37, 38], "customiz": [37, 38], "init_eval_dset": [37, 38], "documents_dataset": [37, 38], "create_positive_n_negative_exampl": [37, 38], "filter_fn": [37, 38], "create_eval_dset": [37, 38], "test_dataset": [37, 38], "create_heldout_test_dset": [37, 38], "doc2q_prompt": [37, 38], "create_train_dset": [37, 38], "filter": 37, "straightforward": [37, 38], "doc_q_to_a_databrick": 37, "satisfactori": [37, 38], "fine": [37, 38], "tune": [37, 38], "a100": [37, 38], "80gb": [37, 38], "adjust": [37, 38], "gradient": [37, 38], "accumul": [37, 38], "setup": [37, 38], "max_step": [37, 38], "eval_step": [37, 38], "save_step": [37, 38], "logging_step": [37, 38], "wandb": [37, 38], "highest": [37, 38], "deepspe": [37, 38], "ds_config": [37, 38], "5e": [37, 38], "6": [37, 38], "num_train_epoch": [37, 38], "gradient_accumulation_step": [37, 38], "bf16": [37, 38], "30": [37, 38], "run_group": [37, 38], "example_wandb_run_group_nam": [37, 38], "epoch": [37, 38], "circumst": [37, 38], "swap": [37, 38], "checkpoint": [37, 38], "enbl": [37, 38], "retr_ndcg": [37, 38], "treat": [37, 38], "incur": [37, 38], "recommend": [37, 38], "baselin": [37, 38], "ada": [37, 38], "002": [37, 38], "satisfi": [37, 38], "gradio": [37, 38], "browser": [37, 38], "share": [37, 38], "link": [37, 38], "complic": [37, 38], "below": [37, 38], "aliv": [37, 38], "onlin": 38, "wholesal": 38, "marketplac": 38, "connect": 38, "independ": 38, "retail": 38, "brand": 38, "around": 38, "ever": 38, "consum": 38, "shop": 38, "big": 38, "chain": 38, "There": 38, "million": 38, "thrive": 38, "busi": 38, "north": 38, "america": 38, "europ": 38, "australia": 38, "alon": 38, "who": 38, "trillion": 38, "dollar": 38, "market": 38, "global": 38, "power": 38, "technologi": 38, "fuel": 38, "growth": 38, "entrepreneur": 38, "everywher": 38, "contact": 38, "sale": 38, "crawl": 38, "faq": 38, "account": 38, "secur": 38, "articl": 38, "4408644893851": 38, "discov": 38, "order": 38, "pai": 38, "invoic": 38, "reset": 38, "my": 38, "password": 38, "360019854651": 38, "758": 38, "showroom": 38, "expertli": 38, "expos": 38, "gmo": 38, "baai": 38, "bge": 38, "100": 38, "berkelei": 38, "nest": 38, "starl": 38, "alpha": 38, "gpt4": 38, "end_of_turn": 38}, "objects": {"": [[1, 0, 0, "-", "local_rqa"]], "local_rqa": [[1, 0, 0, "-", "base"], [1, 0, 0, "-", "constants"], [2, 0, 0, "-", "evaluation"], [3, 0, 0, "-", "guardrails"], [4, 0, 0, "-", "pipelines"], [5, 0, 0, "-", "qa_llms"], [6, 0, 0, "-", "retrievers"], [7, 0, 0, "-", "schema"], [8, 0, 0, "-", "serve"], [9, 0, 0, "-", "text_loaders"], [10, 0, 0, "-", "trainers"]], "local_rqa.base": [[1, 1, 1, "", "Component"]], "local_rqa.base.Component": [[1, 2, 1, "", "run"], [1, 3, 1, "", "run_input_keys"]], "local_rqa.constants": [[1, 1, 1, "", "AccelerationFramework"], [1, 1, 1, "", "ErrorCode"]], "local_rqa.constants.AccelerationFramework": [[1, 3, 1, "", "SGLANG"], [1, 3, 1, "", "TGI"], [1, 3, 1, "", "VLLM"]], "local_rqa.constants.ErrorCode": [[1, 3, 1, "", "CONTEXT_OVERFLOW"], [1, 3, 1, "", "CONTROLLER_NO_WORKER"], [1, 3, 1, "", "CONTROLLER_WORKER_TIMEOUT"], [1, 3, 1, "", "CUDA_OUT_OF_MEMORY"], [1, 3, 1, "", "ENGINE_OVERLOADED"], [1, 3, 1, "", "GRADIO_REQUEST_ERROR"], [1, 3, 1, "", "GRADIO_STREAM_UNKNOWN_ERROR"], [1, 3, 1, "", "INCORRECT_AUTH_KEY"], [1, 3, 1, "", "INTERNAL_ERROR"], [1, 3, 1, "", "INVALID_AUTH_KEY"], [1, 3, 1, "", "INVALID_MODEL"], [1, 3, 1, "", "NO_PERMISSION"], [1, 3, 1, "", "PARAM_OUT_OF_RANGE"], [1, 3, 1, "", "QUOTA_EXCEEDED"], [1, 3, 1, "", "RATE_LIMIT"], [1, 3, 1, "", "VALIDATION_TYPE_ERROR"]], "local_rqa.evaluation": [[2, 0, 0, "-", "utils"]], "local_rqa.evaluation.utils": [[2, 4, 1, "", "normalize_answer"]], "local_rqa.pipelines": [[4, 0, 0, "-", "prompts"]], "local_rqa.qa_llms": [[5, 0, 0, "-", "prompts"]], "local_rqa.trainers": [[11, 0, 0, "-", "qa_llm"], [12, 0, 0, "-", "retriever"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "function", "Python function"]}, "titleterms": {"local_rqa": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "namespac": [1, 10, 11, 12], "subpackag": [1, 10], "submodul": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "base": [1, 3, 4, 5, 6, 9], "modul": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "constant": 1, "util": [1, 2, 10], "evalu": [2, 16, 17, 19, 20, 21, 24, 37, 38], "packag": [2, 3, 4, 5, 6, 7, 8, 9], "metric": 2, "score": [2, 33], "content": [2, 3, 4, 5, 6, 7, 8, 9], "guardrail": [3, 35], "pipelin": 4, "prompt": [4, 5], "retrieval_qa": 4, "qa_llm": [5, 11], "fid": [5, 28], "huggingfac": 5, "openai": 5, "sglang": 5, "tgi": 5, "vllm": 5, "retriev": [6, 12, 21, 30, 31, 37, 38], "bm25_retriev": 6, "faiss_retriev": 6, "schema": [7, 16], "dialogu": 7, "document": [7, 14, 15, 17, 18], "serv": [8, 16, 22, 23], "base_model_work": 8, "control": 8, "gradio_dialogu": 8, "gradio_rqa": 8, "gradio_static_serv": 8, "gradio_web_serv": 8, "model_work": 8, "test_messag": 8, "text_load": 9, "langchain_text_load": 9, "llamaindex_text_load": 9, "trainer": [10, 11, 12, 28, 29, 30, 32, 33, 34, 36], "dist_util": 10, "argument": [11, 12, 36], "dataset": [11, 12, 18, 36], "supervised_fid_train": 11, "supervised_train": 11, "embed": 12, "retriever_fid_train": 12, "retriever_replug_train": 12, "retriever_train": 12, "instal": 13, "from": [13, 18, 33, 34], "github": 13, "docker": 13, "quickstart": 14, "prepar": [14, 18, 37, 38], "build": 14, "an": [14, 34, 35], "rqa": [14, 16, 17, 18, 35, 37, 38], "system": [14, 35, 37, 38], "next": 14, "step": 14, "welcom": 15, "localrqa": 15, "": [15, 34], "why": 15, "get": 15, "start": 15, "indic": 15, "tabl": 15, "data": [16, 17, 18, 29, 37, 38], "what": 16, "do": 16, "we": 16, "need": 16, "train": [16, 17, 26, 27, 28, 31, 37, 38], "how": [16, 36], "obtain": 16, "format": [17, 37, 38], "test": 17, "file": [17, 18], "databas": 17, "vector": 17, "index": 17, "scratch": 18, "pickl": 18, "gener": [18, 27, 37, 38], "question": 18, "answer": 18, "convert": 18, "exist": [18, 36], "end": 20, "run": [20, 21, 28, 29, 30, 32, 33, 34], "custom": [20, 21, 35, 36], "launcher": 22, "acceler": [22, 23], "framework": [22, 23], "infer": 23, "simplerqa": [23, 35], "model": [23, 36], "static": 24, "human": 24, "interact": 25, "chat": 25, "fusion": 28, "decod": 28, "sft": [29, 30], "gold": 29, "frozen": 30, "swr": 30, "contrast": 32, "learn": 32, "ctl": 32, "distil": [33, 34], "cross": 33, "attent": 33, "dca": 33, "lm": 34, "probabl": 34, "distribut": 34, "rpg": 34, "your": 35, "implement": [35, 36], "The": 35, "compon": 35, "class": 35, "openaimoder": 35, "ad": [35, 36], "ar": 36, "new": 36, "A": 36, "high": 36, "level": 36, "sketch": 36, "databrick": 37, "chunk": [37, 38], "qa": [37, 38], "automat": [37, 38], "deploi": [37, 38], "fair": 38}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"local_rqa": [[0, "local-rqa"]], "local_rqa namespace": [[1, "module-local_rqa"]], "Subpackages": [[1, "subpackages"], [10, "subpackages"]], "Submodules": [[1, "submodules"], [2, "submodules"], [3, "submodules"], [4, "submodules"], [5, "submodules"], [6, "submodules"], [7, "submodules"], [8, "submodules"], [9, "submodules"], [10, "submodules"], [11, "submodules"], [12, "submodules"]], "local_rqa.base module": [[1, "module-local_rqa.base"]], "local_rqa.constants module": [[1, "module-local_rqa.constants"]], "local_rqa.utils module": [[1, "local-rqa-utils-module"]], "local_rqa.evaluation package": [[2, "local-rqa-evaluation-package"]], "local_rqa.evaluation.evaluator module": [[2, "local-rqa-evaluation-evaluator-module"]], "local_rqa.evaluation.metrics module": [[2, "local-rqa-evaluation-metrics-module"]], "local_rqa.evaluation.scores module": [[2, "local-rqa-evaluation-scores-module"]], "local_rqa.evaluation.utils module": [[2, "module-local_rqa.evaluation.utils"]], "Module contents": [[2, "module-local_rqa.evaluation"], [3, "module-local_rqa.guardrails"], [4, "module-local_rqa.pipelines"], [5, "module-local_rqa.qa_llms"], [6, "module-local_rqa.retrievers"], [7, "module-local_rqa.schema"], [8, "module-local_rqa.serve"], [9, "module-local_rqa.text_loaders"]], "local_rqa.guardrails package": [[3, "local-rqa-guardrails-package"]], "local_rqa.guardrails.base module": [[3, "local-rqa-guardrails-base-module"]], "local_rqa.pipelines package": [[4, "local-rqa-pipelines-package"]], "local_rqa.pipelines.base module": [[4, "local-rqa-pipelines-base-module"]], "local_rqa.pipelines.prompts module": [[4, "module-local_rqa.pipelines.prompts"]], "local_rqa.pipelines.retrieval_qa module": [[4, "local-rqa-pipelines-retrieval-qa-module"]], "local_rqa.qa_llms package": [[5, "local-rqa-qa-llms-package"]], "local_rqa.qa_llms.base module": [[5, "local-rqa-qa-llms-base-module"]], "local_rqa.qa_llms.fid module": [[5, "local-rqa-qa-llms-fid-module"]], "local_rqa.qa_llms.huggingface module": [[5, "local-rqa-qa-llms-huggingface-module"]], "local_rqa.qa_llms.openai module": [[5, "local-rqa-qa-llms-openai-module"]], "local_rqa.qa_llms.prompts module": [[5, "module-local_rqa.qa_llms.prompts"]], "local_rqa.qa_llms.sglang module": [[5, "local-rqa-qa-llms-sglang-module"]], "local_rqa.qa_llms.tgi module": [[5, "local-rqa-qa-llms-tgi-module"]], "local_rqa.qa_llms.vllm module": [[5, "local-rqa-qa-llms-vllm-module"]], "local_rqa.retrievers package": [[6, "local-rqa-retrievers-package"]], "local_rqa.retrievers.base module": [[6, "local-rqa-retrievers-base-module"]], "local_rqa.retrievers.bm25_retriever module": [[6, "local-rqa-retrievers-bm25-retriever-module"]], "local_rqa.retrievers.faiss_retriever module": [[6, "local-rqa-retrievers-faiss-retriever-module"]], "local_rqa.schema package": [[7, "local-rqa-schema-package"]], "local_rqa.schema.dialogue module": [[7, "local-rqa-schema-dialogue-module"]], "local_rqa.schema.document module": [[7, "local-rqa-schema-document-module"]], "local_rqa.serve package": [[8, "local-rqa-serve-package"]], "local_rqa.serve.base_model_worker module": [[8, "local-rqa-serve-base-model-worker-module"]], "local_rqa.serve.controller module": [[8, "local-rqa-serve-controller-module"]], "local_rqa.serve.gradio_dialogue module": [[8, "local-rqa-serve-gradio-dialogue-module"]], "local_rqa.serve.gradio_rqa module": [[8, "local-rqa-serve-gradio-rqa-module"]], "local_rqa.serve.gradio_static_server module": [[8, "local-rqa-serve-gradio-static-server-module"]], "local_rqa.serve.gradio_web_server module": [[8, "local-rqa-serve-gradio-web-server-module"]], "local_rqa.serve.model_worker module": [[8, "local-rqa-serve-model-worker-module"]], "local_rqa.serve.test_message module": [[8, "local-rqa-serve-test-message-module"]], "local_rqa.text_loaders package": [[9, "local-rqa-text-loaders-package"]], "local_rqa.text_loaders.base module": [[9, "local-rqa-text-loaders-base-module"]], "local_rqa.text_loaders.langchain_text_loader module": [[9, "local-rqa-text-loaders-langchain-text-loader-module"]], "local_rqa.text_loaders.llamaindex_text_loader module": [[9, "local-rqa-text-loaders-llamaindex-text-loader-module"]], "local_rqa.trainers namespace": [[10, "module-local_rqa.trainers"]], "local_rqa.trainers.dist_utils module": [[10, "local-rqa-trainers-dist-utils-module"]], "local_rqa.trainers.utils module": [[10, "local-rqa-trainers-utils-module"]], "local_rqa.trainers.qa_llm namespace": [[11, "module-local_rqa.trainers.qa_llm"]], "local_rqa.trainers.qa_llm.arguments module": [[11, "local-rqa-trainers-qa-llm-arguments-module"]], "local_rqa.trainers.qa_llm.datasets module": [[11, "local-rqa-trainers-qa-llm-datasets-module"]], "local_rqa.trainers.qa_llm.supervised_fid_trainer module": [[11, "local-rqa-trainers-qa-llm-supervised-fid-trainer-module"]], "local_rqa.trainers.qa_llm.supervised_trainer module": [[11, "local-rqa-trainers-qa-llm-supervised-trainer-module"]], "local_rqa.trainers.retriever namespace": [[12, "module-local_rqa.trainers.retriever"]], "local_rqa.trainers.retriever.arguments module": [[12, "local-rqa-trainers-retriever-arguments-module"]], "local_rqa.trainers.retriever.datasets module": [[12, "local-rqa-trainers-retriever-datasets-module"]], "local_rqa.trainers.retriever.embeddings module": [[12, "local-rqa-trainers-retriever-embeddings-module"]], "local_rqa.trainers.retriever.retriever_fid_trainer module": [[12, "local-rqa-trainers-retriever-retriever-fid-trainer-module"]], "local_rqa.trainers.retriever.retriever_replug_trainer module": [[12, "local-rqa-trainers-retriever-retriever-replug-trainer-module"]], "local_rqa.trainers.retriever.retriever_trainer module": [[12, "local-rqa-trainers-retriever-retriever-trainer-module"]], "Installation": [[13, "installation"]], "From GitHub": [[13, "from-github"]], "From Docker": [[13, "from-docker"]], "Quickstart": [[14, "quickstart"]], "Prepare Document": [[14, "prepare-document"]], "Build an RQA System": [[14, "build-an-rqa-system"]], "Next Steps": [[14, "next-steps"]], "Welcome to LocalRQA\u2019s documentation!": [[15, "welcome-to-localrqa-s-documentation"]], "\ud83c\udf1f Why LocalRQA?": [[15, "why-localrqa"]], "\ud83d\ude80 Getting Started!": [[15, "getting-started"]], "Indices and tables": [[15, "indices-and-tables"]], "Data": [[16, "data"]], "What Data Do We Need?": [[16, "what-data-do-we-need"]], "Training Data": [[16, "training-data"]], "Evaluation Data": [[16, "evaluation-data"]], "Serving Data": [[16, "serving-data"]], "Data Schema": [[16, "data-schema"]], "How to Obtain RQA Data?": [[16, "how-to-obtain-rqa-data"]], "RQA Data Format": [[17, "rqa-data-format"]], "Training, Evaluation, and Test Files": [[17, "training-evaluation-and-test-files"]], "Document Database and Vector Index": [[17, "document-database-and-vector-index"]], "Prepare RQA Data": [[18, "prepare-rqa-data"]], "Prepare Data from Scratch": [[18, "prepare-data-from-scratch"]], "Prepare Document Pickle File": [[18, "prepare-document-pickle-file"]], "Generate Questions": [[18, "generate-questions"]], "Generate Answers": [[18, "generate-answers"]], "Convert from Existing Datasets": [[18, "convert-from-existing-datasets"]], "Evaluation": [[19, "evaluation"]], "End-to-End Evaluation": [[20, "end-to-end-evaluation"]], "Running Evaluation": [[20, "running-evaluation"], [21, "running-evaluation"]], "Customization": [[20, "customization"], [21, "customization"]], "Retriever Evaluation": [[21, "retriever-evaluation"]], "Serving": [[22, "serving"]], "Launchers": [[22, "launchers"]], "Acceleration Frameworks": [[22, "acceleration-frameworks"]], "Inference Acceleration Frameworks": [[23, "inference-acceleration-frameworks"]], "Accelerating SimpleRQA": [[23, "accelerating-simplerqa"]], "Accelerating Model Serving": [[23, "accelerating-model-serving"]], "Static Human Evaluation": [[24, "static-human-evaluation"]], "Interactive Chat": [[25, "interactive-chat"]], "Training": [[26, "training"]], "Training a Generator": [[27, "training-a-generator"]], "Fusion-in-Decoder Training (FiD)": [[28, "fusion-in-decoder-training-fid"]], "Running FiD Trainer": [[28, "running-fid-trainer"]], "SFT with Gold Data (SFT)": [[29, "sft-with-gold-data-sft"]], "Running SFT Trainer": [[29, "running-sft-trainer"]], "SFT with a Frozen Retriever (SwR)": [[30, "sft-with-a-frozen-retriever-swr"]], "Running SwR Trainer": [[30, "running-swr-trainer"]], "Training a Retriever": [[31, "training-a-retriever"]], "Contrastive Learning (CTL)": [[32, "contrastive-learning-ctl"]], "Running CTL Trainer": [[32, "running-ctl-trainer"]], "Distill from Cross-Attention scores (DCA)": [[33, "distill-from-cross-attention-scores-dca"]], "Running DCA Trainer": [[33, "running-dca-trainer"]], "Distill from an LM\u2019s probability distribution (RPG)": [[34, "distill-from-an-lm-s-probability-distribution-rpg"]], "Running RPG Trainer": [[34, "running-rpg-trainer"]], "Customize your RQA system": [[35, "customize-your-rqa-system"]], "Implementing a Custom Guardrail": [[35, "implementing-a-custom-guardrail"]], "The Component class": [[35, "the-component-class"]], "Implementing an OpenAIModeration component": [[35, "implementing-an-openaimoderation-component"]], "Adding the Guardrail to SimpleRQA": [[35, "adding-the-guardrail-to-simplerqa"]], "Customize Model Trainers": [[36, "customize-model-trainers"]], "How Existing Trainers Are Implemented": [[36, "how-existing-trainers-are-implemented"]], "Adding a new Trainer": [[36, "adding-a-new-trainer"]], "A high-level sketch": [[36, "a-high-level-sketch"]], "Implementing new arguments": [[36, "implementing-new-arguments"]], "Implementing the datasets": [[36, "implementing-the-datasets"]], "Implementing the Trainer": [[36, "implementing-the-trainer"]], "Databricks": [[37, "databricks"]], "Prepare Data": [[37, "prepare-data"], [38, "prepare-data"]], "Chunking and Formatting": [[37, "chunking-and-formatting"], [38, "chunking-and-formatting"]], "Generating QA": [[37, "generating-qa"], [38, "generating-qa"]], "Train a Retriever": [[37, "train-a-retriever"], [38, "train-a-retriever"]], "Train a Generator": [[37, "train-a-generator"], [38, "train-a-generator"]], "Automatic Evaluation": [[37, "automatic-evaluation"], [38, "automatic-evaluation"]], "Deploy the RQA system": [[37, "deploy-the-rqa-system"], [38, "deploy-the-rqa-system"]], "Faire": [[38, "faire"]]}, "indexentries": {"accelerationframework (class in local_rqa.constants)": [[1, "local_rqa.constants.AccelerationFramework"]], "context_overflow (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.CONTEXT_OVERFLOW"]], "controller_no_worker (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.CONTROLLER_NO_WORKER"]], "controller_worker_timeout (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.CONTROLLER_WORKER_TIMEOUT"]], "cuda_out_of_memory (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.CUDA_OUT_OF_MEMORY"]], "component (class in local_rqa.base)": [[1, "local_rqa.base.Component"]], "engine_overloaded (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.ENGINE_OVERLOADED"]], "errorcode (class in local_rqa.constants)": [[1, "local_rqa.constants.ErrorCode"]], "gradio_request_error (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.GRADIO_REQUEST_ERROR"]], "gradio_stream_unknown_error (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.GRADIO_STREAM_UNKNOWN_ERROR"]], "incorrect_auth_key (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.INCORRECT_AUTH_KEY"]], "internal_error (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.INTERNAL_ERROR"]], "invalid_auth_key (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.INVALID_AUTH_KEY"]], "invalid_model (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.INVALID_MODEL"]], "no_permission (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.NO_PERMISSION"]], "param_out_of_range (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.PARAM_OUT_OF_RANGE"]], "quota_exceeded (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.QUOTA_EXCEEDED"]], "rate_limit (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.RATE_LIMIT"]], "sglang (local_rqa.constants.accelerationframework attribute)": [[1, "local_rqa.constants.AccelerationFramework.SGLANG"]], "tgi (local_rqa.constants.accelerationframework attribute)": [[1, "local_rqa.constants.AccelerationFramework.TGI"]], "validation_type_error (local_rqa.constants.errorcode attribute)": [[1, "local_rqa.constants.ErrorCode.VALIDATION_TYPE_ERROR"]], "vllm (local_rqa.constants.accelerationframework attribute)": [[1, "local_rqa.constants.AccelerationFramework.VLLM"]], "local_rqa": [[1, "module-local_rqa"]], "local_rqa.base": [[1, "module-local_rqa.base"]], "local_rqa.constants": [[1, "module-local_rqa.constants"]], "module": [[1, "module-local_rqa"], [1, "module-local_rqa.base"], [1, "module-local_rqa.constants"], [2, "module-local_rqa.evaluation"], [2, "module-local_rqa.evaluation.utils"], [3, "module-local_rqa.guardrails"], [4, "module-local_rqa.pipelines"], [4, "module-local_rqa.pipelines.prompts"], [5, "module-local_rqa.qa_llms"], [5, "module-local_rqa.qa_llms.prompts"], [6, "module-local_rqa.retrievers"], [7, "module-local_rqa.schema"], [8, "module-local_rqa.serve"], [9, "module-local_rqa.text_loaders"], [10, "module-local_rqa.trainers"], [11, "module-local_rqa.trainers.qa_llm"], [12, "module-local_rqa.trainers.retriever"]], "run() (local_rqa.base.component method)": [[1, "local_rqa.base.Component.run"]], "run_input_keys (local_rqa.base.component attribute)": [[1, "local_rqa.base.Component.run_input_keys"]], "local_rqa.evaluation": [[2, "module-local_rqa.evaluation"]], "local_rqa.evaluation.utils": [[2, "module-local_rqa.evaluation.utils"]], "normalize_answer() (in module local_rqa.evaluation.utils)": [[2, "local_rqa.evaluation.utils.normalize_answer"]], "local_rqa.guardrails": [[3, "module-local_rqa.guardrails"]], "local_rqa.pipelines": [[4, "module-local_rqa.pipelines"]], "local_rqa.pipelines.prompts": [[4, "module-local_rqa.pipelines.prompts"]], "local_rqa.qa_llms": [[5, "module-local_rqa.qa_llms"]], "local_rqa.qa_llms.prompts": [[5, "module-local_rqa.qa_llms.prompts"]], "local_rqa.retrievers": [[6, "module-local_rqa.retrievers"]], "local_rqa.schema": [[7, "module-local_rqa.schema"]], "local_rqa.serve": [[8, "module-local_rqa.serve"]], "local_rqa.text_loaders": [[9, "module-local_rqa.text_loaders"]], "local_rqa.trainers": [[10, "module-local_rqa.trainers"]], "local_rqa.trainers.qa_llm": [[11, "module-local_rqa.trainers.qa_llm"]], "local_rqa.trainers.retriever": [[12, "module-local_rqa.trainers.retriever"]]}})